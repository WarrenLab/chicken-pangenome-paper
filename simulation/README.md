# Testing alignment with simulated reads

We compared the performance of linear and graph alignment using simulated
reads. Briefly, this required first simulating reads from the graph, then
aligning those reads both to the graph and to the bGalGal1b linear reference,
and finally comparing the output of both aligners. Scripts for each of these
steps are in this directory.

## Inputs
The only input needed to run these scripts is a pangenome in gbz format along
with `.dist` and `.min` indices (all generated by minigraph-cactus).

## Running
First, run `simulate-reads.sh` with no arguments to prepare 1 million simulated
2x150bp reads with parameters based on a combination of the original Giraffe
paper and an estimate of sequencing-by-synthesis base-substitution rate (see
manuscript methods for more details).

Then, there are separate scripts for minimap (`minimap.sh`) and giraffe
(`giraffe.sh`) that do the alignment, comparison to the truth set, and
tabulation of results. Each of these takes as its only argument the number of
threads to use.

So, for example, to run the whole pipeline with 10 threads, run
```bash
./simulate_reads.sh
./minimap.sh 10
./giraffe.sh 10
```
